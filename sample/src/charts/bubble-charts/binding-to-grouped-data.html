<template>
    <section>
        <collapse-panel title="Binding to grouped data" allow-collapse.bind="false">
          <au-kendo-chart title.bind="{text: 'Olypmic Medals Won by Japan'}"
                          data-source.bind="datasource"
                          legend.bind="legend"
                          chart-area.bind="chartArea"
                          series.bind="series"
                          xAxis.bind="xAxis"
                          yAxis.bind="yAxis"
                          tooltip.bind="tooltip">
          </au-kendo-chart>
        </collapse-panel>

        <collapse-panel title="Code Preview">
            <div au-kendo-tabstrip>
                <ul>
                    <li class="k-state-active">HTML</li>
                    <li>Code</li>
                    <li>Description</li>
                </ul>
                <div>
                    <au-code language="markup">
                     <au-kendo-chart title.bind="{text: 'Olypmic Medals Won by Japan'}"
                                      data-source.bind="datasource"
                                      legend.bind="legend"
                                      chart-area.bind="chartArea"
                                      series.bind="series"
                                      xAxis.bind="xAxis"
                                      yAxis.bind="yAxis"
                                      tooltip.bind="tooltip">
                      </au-kendo-chart>
                    </au-code>
                </div>

                <div>
                    <au-code language="javascript">
                      export class BindingToGroupedData {
                          datasource = new kendo.data.DataSource({
                              transport: {
                                read: function(options) {
                                  return System.import('charts/bubble-charts/json/olympics-japan.json!json')
                                  .then(data => options.success(data));
                                }
                              },

                              group: {
                                  field: "country"
                              }
                          });

                          legend = {
                              visible: false
                          };

                         chartArea = {
                              background: ""
                          };

                          series = [{
                              type: "bubble",
                              minSize: 0,
                              maxSize: 70,
                              xField: "year",
                              yField: "standing",
                              sizeField: "number",
                              colorField: "medalColor",
                              opacity: 0.9
                          }];

                          xAxis = {
                              labels: {
                                  skip: 1,
                                  margin: {top: -25}
                              },
                              majorUnit: 4,
                              min: 1980,
                              max: 2015,
                              majorGridLines: {
                                  visible: false
                              },
                              line: {
                                  visible: false
                              }
                          };

                          yAxis = {
                              labels: {
                                  step: 1,
                                  skip: 1,
                                  template: "#= value # place",
                                  margin: {right: -30},
                                  padding: {left: 20}
                              },
                              majorUnit: 1,
                              min: 0,
                              max: 3.7,
                              majorGridLines: {
                                  visible: false
                              },
                              line: {
                                  visible: false
                              }
                          };

                          tooltip = {
                              visible: true,
                              template: "#= value.x #: #= value.size # Medals"
                          };

                      }
                    </au-code>
                </div>

                <div>
                    <au-markdown>
                    The Kendo UI chart widget can be bound to grouped data using [Kendo UI DataSource]9http://docs.telerik.com/kendo-ui/api/javascript/data/datasource) as a mediator. To do so follow the steps below:

                    1.Bind the chart to a [Kendo UI DataSource instance.](http://docs.telerik.com/KENDO-UI/api/javascript/dataviz/ui/chart#configuration-dataSource)

                    2.Set the [DataSource.group.field](http://docs.telerik.com/KENDO-UI/api/javascript/dataviz/ui/chart#configuration-dataSource) property to the name of the column (e.g., the “country” field) in the underlying data which will be the criteria for grouping the chart series items into series

                    3.Bind the xField, yField and sizeField values of the series to **the year, standing and number** fields
                    </au-markdown>
                </div>
            </div>
        </collapse-panel>
    </section>
</template>
