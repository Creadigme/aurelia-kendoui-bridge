<template>
    <section>
        <collapse-panel title="Bining to remote data" allow-collapse.bind="false">
          <au-kendo-chart title.bind="title"
                          data-source.bind="datasource"
                          legend.bind="legend"
                          series-defaults.bind="seriesDefaults"
                          series.bind="series"
                          value-axis.bind="valueAxis"
                          category-axis.bind="categoryAxis"
                          tooltip.bind="tooltip">
          </au-kendo-chart>
        </collapse-panel>

        <collapse-panel title="Code Preview">
            <div au-kendo-tabstrip>
                <ul>
                    <li class="k-state-active">HTML</li>
                    <li>Code</li>
                     <!-- <li>Description</li> -->
               </ul>
                <div>
                    <au-code language="markup">
                       <au-kendo-chart title.bind="title"
                                        data-source.bind="datasource"
                                        legend.bind="legend"
                                        series-defaults.bind="seriesDefaults"
                                        series.bind="series"
                                        value-axis.bind="valueAxis"
                                        category-axis.bind="categoryAxis"
                                        tooltip.bind="tooltip">
                        </au-kendo-chart>
                    </au-code>
                </div>

                <div>
                    <au-code language="javascript">
                      export class BindingToRemoteData {
                          datasource = new kendo.data.DataSource({
                              transport: {
                                read: function(options) {
                                  return System.import('charts/donut-charts/json/screen-resolution.json!json')
                                  .then(data => options.success(data));
                                }
                              },
                              sort: {
                                  field: "order",
                                  dir: "asc"
                              },
                              group: {
                                  field: "year"
                              }
                          });

                          legend = {
                              position: "top"
                          };

                          title = {
                              text: "1024x768 screen resolution trends"
                          };

                          seriesDefaults = {
                              type: "donut",
                              startAngle: 270
                          };

                          series = [{
                              field: "share",
                              categoryField: "resolution",
                              visibleInLegendField: "visibleInLegend",
                              padding: 10
                          }];

                          tooltip = {
                              visible: true,
                              template: "#= dataItem.resolution #: #= value #% (#= dataItem.year #)"
                          }
                      }
                    </au-code>
                </div>

                <div>
                    <au-markdown>

                    </au-markdown>
                </div>
            </div>
        </collapse-panel>
    </section>
</template>
