<template>
    <section>
        <collapse-panel title="Basic use" allow-collapse.bind="false">
          <au-kendo-chart title.bind="{text: 'Request latency breakdown'}"
                          data-source.bind="{data: requestData}"
                          legend.bind="{visible: false}"
                          series.bind="series"
                          axis-defaults.bind="{majorGridLines: {visible: false}}"
                          value-axis.bind="{labels: {format: '{0} ms'}}">
          </au-kendo-chart>
        </collapse-panel>

        <collapse-panel title="Code Preview">
            <div au-kendo-tabstrip>
                <ul>
                    <li class="k-state-active">HTML</li>
                    <li>Code</li>
                </ul>
                <div>
                    <au-code language="markup">
                      <au-kendo-chart title.bind="{text: 'Request latency breakdown'}"
                                      data-source.bind="{data: requestData}"
                                      legend.bind="{visible: false}"
                                      series.bind="series"
                                      axis-defaults.bind="{majorGridLines: {visible: false}}"
                                      value-axis.bind="{labels: {format: '{0} ms'}}">
                      </au-kendo-chart>
                    </au-code>
                </div>

                <div>
                    <au-code language="javascript">
                      export class HorizontalWaterfall {

                        requestData = [{
                            caption: "DNS Lookup",
                            elapsed: 20
                        }, {
                            caption: "Connecting",
                            elapsed: 122
                        }, {
                            caption: "Sending",
                            elapsed: 30
                        }, {
                            caption: "Waiting",
                            elapsed: 421
                        }, {
                            caption: "Receiving",
                            elapsed: 357
                        }, {
                            caption: "Total",
                            summary: "total"
                        }];

                        palette = [
                            "#95c3cd", "#abc75b", "#c6816f", "#968cb2", "#c0c0c0", "#2ba6ff"
                        ];

                        series = [{
                            type: "horizontalWaterfall",
                            field: "elapsed",
                            categoryField: "caption",
                            summaryField: "summary",
                            color: (point) => {
                                return this.palette[point.index % this.palette.length];
                            }
                        }]
                      }
                    </au-code>
                </div>
            </div>
        </collapse-panel>
    </section>
</template>
